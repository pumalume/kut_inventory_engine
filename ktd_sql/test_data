-- START TRANSACTION
START TRANSACTION;

-- 1. Measuring Units
INSERT INTO ktd_measuring_units (unit_id, unit_name, unit_abbr) VALUES 
(1, 'Kilogram', 'kg'), 
(2, 'Litre', 'lt'), 
(3, 'Adet', 'adt');

-- 2. Branches
INSERT INTO ktd_branches (branch_id, branch_name, is_production_center) VALUES 
(1, 'Ana Mutfak (HQ)', TRUE), 
(2, 'Çarşı Şube', FALSE);

-- 3. Customers
INSERT INTO ktd_customers (customer_id, customer_name, phone, balance_limit) VALUES 
(1, 'Hilton Otel', '555-001', 10000.00), 
(2, 'Kordon Kafe', '555-002', 3000.00);

COMMIT;

START TRANSACTION;

-- 4. Ingredients (Depends on Units)
INSERT INTO ktd_ingredients (ingredient_id, ingredient_name, unit_id, reorder_level, current_cost) VALUES 
(1, 'Antep Fıstığı (Extra)', 1, 50.0, 1100.00),
(2, 'Kristal Şeker', 1, 200.0, 28.50),
(3, 'Baklavalık Un', 1, 300.0, 22.00),
(4, 'Tam Yağlı Süt', 2, 500.0, 32.00),
(5, 'Ayçiçek Yağı', 2, 100.0, 45.00);

-- 5. POS Products
INSERT INTO ktd_pos_products (product_id, barcode, product_name, category, unit_price) VALUES 
(1, 'BRC-001', 'Tulumba Tatlısı (1kg)', 'Tatlı', 200.00),
(2, 'BRC-002', 'Maraş Dondurma (1kg)', 'Dondurma', 400.00),
(3, 'BRC-003', 'Fıstıklı Baklava (1kg)', 'Baklava', 750.00);



START TRANSACTION;

-- 6. Recipes
-- 1kg Tulumba uses 0.5kg Flour, 0.4kg Sugar, 1L Oil (frying)
INSERT INTO ktd_recipes (product_id, ingredient_id, qty_required) VALUES 
(1, 3, 0.500), (1, 2, 0.400), (1, 5, 1.000),
-- 1kg Baklava uses 0.3kg Pistachio, 0.4kg Sugar, 0.5kg Flour
(3, 1, 0.300), (3, 2, 0.400), (3, 3, 0.500);

COMMIT;


START TRANSACTION;

-- 6. Recipes (Linking Products to Ingredients)
INSERT INTO ktd_recipes (product_id, ingredient_id, qty_required) VALUES 
-- Tulumba (Product 1)
(1, 3, 0.500), (1, 2, 0.400), (1, 5, 1.000),
-- Dondurma (Product 2)
(2, 4, 0.800), (2, 2, 0.200), (2, 6, 0.020),
-- Baklava (Product 3)
(3, 1, 0.300), (3, 2, 0.400), (3, 3, 0.500);

COMMIT;


START TRANSACTION;

-- 6. Recipes (Linking Products to Ingredients)
INSERT INTO ktd_recipes (product_id, ingredient_id, qty_required) VALUES 
-- Tulumba (Product 1)
(1, 3, 0.500), (1, 2, 0.400), (1, 5, 1.000),
-- Dondurma (Product 2)
(2, 4, 0.800), (2, 2, 0.200), (2, 6, 0.020),
-- Baklava (Product 3)
(3, 1, 0.300), (3, 2, 0.400), (3, 3, 0.500);

COMMIT;
